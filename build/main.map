{"version":3,"sources":["webpack:///webpack/bootstrap ffcd5650071e64e5d097","webpack:///external \"dotenv\"","webpack:///external \"keystone\"","webpack:///external \"lodash\"","webpack:///external \"path\"","webpack:///./server/keystone.js","webpack:///external \"passport\"","webpack:///./server/routes/index.js","webpack:///external \"nuxt\"","webpack:///./server/routes/middleware.js","webpack:///./nuxt.config.js"],"names":["require","config","keystone","passport","init","process","cwd","import","set","_","env","get","utils","editable","content","pre","initialize","session","galleries","users","MAILGUN_API_KEY","MAILGUN_DOMAIN","console","log","start","Nuxt","Builder","path","middleware","importRoutes","importer","join","initLocals","flashMessages","routes","views","api","exports","module","app","dev","nuxt","builder","build","use","req","res","next","setHeader","header","options","send","login","logout","authFacebook","authFacebookCallback","gallery","category","list","put","user","update","post","product","create","transaction","listTransactions","render","locals","navLinks","label","key","href","info","flash","success","warning","error","messages","some","msgs","length","requireUser","redirect","head","title","meta","charset","name","hid","link","rel","type","loading","color","css","src","lang","modules","resolve","__dirname","axios","baseURL","AXIOS_BASE_URL","browserBaseURL","AXIOS_BROWSER_BASE_URL","plugins","ssr","baseUrl","BASE_URL","apiUrl","API_URL","GMAPS_KEY","extend","ctx","isClient","rules","push","enforce","test","loader","exclude","splice","include"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ffcd5650071e64e5d097","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"keystone\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"keystone\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 3\n// module chunks = 0","// Simulate config options from your production environment by\n// customising the .env file in your project's root folder.\nrequire('dotenv').config();\n\n// Require keystone\nvar keystone = require('keystone');\n\n// Require Passport\nvar passport = require('passport');\n\n// Initialise Keystone with your project's configuration.\n// See http://keystonejs.com/guide/config for available options\n// and documentation.\n\nkeystone.init({\n\t'name': 'desprendete',\n\t'brand': 'desprendete',\n\n\t'sass': process.cwd() + '/server/public',\n\t'static': process.cwd() + '/server/public',\n\t'favicon': process.cwd() + '/static/favicon.ico',\n\t'views': process.cwd() + '/server/templates/views',\n\t'updates': process.cwd() + '/server/updates',\n\t'view engine': 'pug',\n\n\t'emails': process.cwd() + '/server/templates/emails',\n\n\t'auto update': true,\n\t'session': true,\n\t'session store': 'mongo',\n\t\n\t'auth': true,\n\t'user model': 'User',\n});\n\n// Load your project's Models\nkeystone.import('../server/models');\n\n// Setup common locals for your templates. The following are required for the\n// bundled templates and layouts. Any runtime locals (that should be set uniquely\n// for each request) should be added to ./routes/middleware.js\nkeystone.set('locals', {\n\t_: require('lodash'),\n\tenv: keystone.get('env'),\n\tutils: keystone.utils,\n\teditable: keystone.content.editable,\n});\n\nkeystone.pre(\"routes\", passport.initialize());\nkeystone.pre(\"routes\", passport.session());\n\n// Load your project's Routes\nkeystone.set('routes', require('./routes'));\n\n// Configure the navigation bar in Keystone's Admin UI\nkeystone.set('nav', {\n\tgalleries: 'galleries',\n\tusers: 'users',\n});\n\n// Start Keystone to connect to your database and initialise the web server\n\n\nif (!process.env.MAILGUN_API_KEY || !process.env.MAILGUN_DOMAIN) {\n\tconsole.log('----------------------------------------'\n\t+ '\\nWARNING: MISSING MAILGUN CREDENTIALS'\n\t+ '\\n----------------------------------------'\n\t+ '\\nYou have opted into email sending but have not provided'\n\t+ '\\nmailgun credentials. Attempts to send will fail.'\n\t+ '\\n\\nCreate a mailgun account and add the credentials to the .env file to'\n\t+ '\\nset up your mailgun integration');\n}\n\n\nkeystone.start();\n\n\n\n// WEBPACK FOOTER //\n// ./server/keystone.js","module.exports = require(\"passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport\"\n// module id = 5\n// module chunks = 0","const { Nuxt, Builder } = require('nuxt');\n/**\n * This file is where you define your application routes and controllers.\n *\n * Start by including the middleware you want to run for every request;\n * you can attach middleware to the pre('routes') and pre('render') events.\n *\n * For simplicity, the default setup for route controllers is for each to be\n * in its own file, and we import all the files in the /routes/views directory.\n *\n * Each of these files is a route controller, and is responsible for all the\n * processing that needs to happen for the route (e.g. loading data, handling\n * form submissions, rendering the view template, etc).\n *\n * Bind each route pattern your application should respond to in the function\n * that is exported from this module, following the examples below.\n *\n * See the Express application routing documentation for more information:\n * http://expressjs.com/api.html#app.VERB\n */\n\nvar path = require('path');\n\nvar keystone = require('keystone');\nvar middleware = require('./middleware');\n\nvar importRoutes = keystone.importer(path.join(process.cwd(), 'server/routes'));\n\n// Common Middleware\nkeystone.pre('routes', middleware.initLocals);\nkeystone.pre('render', middleware.flashMessages);\n\n// Import Route Controllers\nvar routes = {\n\tviews: importRoutes('./views'),\n\tapi: importRoutes('./api'),\n};\n\n// Setup Route Bindings\nexports = module.exports = function (app) {\n\t// Import and Set Nuxt.js options\n\tlet config = require('../../nuxt.config.js')\n\tconfig.dev = !(process.env.NODE_ENV === 'production')\n\n\t// Init Nuxt.js\n\tconst nuxt = new Nuxt(config)\n\n\t// Build only in dev mode\n\tif (config.dev) {\n\t\tconst builder = new Builder(nuxt)\n\t\tbuilder.build()\n\t}\n\n\tapp.use(function (req, res, next) { // allow cross origin requests\n\t\tres.setHeader('Access-Control-Allow-Methods', 'POST, PUT, OPTIONS, DELETE, GET');\n\t\tres.header('Access-Control-Allow-Origin', '*');\n\t\tres.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n\t\tnext();\n\t});\n\n\tapp.options('/api*', function (req, res) {\n\t\tres.send(200);\n\t});\n\n\tapp.get('/logout', routes.api.login.logout);\n\tapp.get('/auth/facebook', routes.api.login.authFacebook);\n\tapp.get('/auth/facebook/callback', routes.api.login.authFacebookCallback);\n\n\t// Views\n\t// app.get('/back', routes.views.index);\n\tapp.get('/gallery', routes.views.gallery);\n\n\t// API\n\tapp.get('/api/categories', routes.api.category.list);\n\n\tapp.put('/api/user/:id', routes.api.user.update);\n\n\tapp.post('/api/products', routes.api.product.create);\n\tapp.get('/api/products', routes.api.product.list);\n\tapp.get('/api/products/:id', routes.api.product.get);\n\n\tapp.post('/api/transactions', routes.api.transaction.create);\n\n\tapp.get('/api/user/:id/transactions', routes.api.user.listTransactions);\n\n\t// NOTE: To protect a route so that only admins can see it, use the requireUser middleware:\n\t// app.get('/protected', middleware.requireUser, routes.views.protected);\n\n\n\t// Give nuxt middleware to express\n\tapp.use(nuxt.render)\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/index.js","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 7\n// module chunks = 0","/**\n * This file contains the common middleware used by your routes.\n *\n * Extend or replace these functions as your application requires.\n *\n * This structure is not enforced, and just a starting point. If\n * you have more middleware you may want to group it as separate\n * modules in your project's /lib directory.\n */\nvar _ = require('lodash');\n\n\n/**\n\tInitialises the standard view locals\n\n\tThe included layout depends on the navLinks array to generate\n\tthe navigation in the header, you may wish to change this array\n\tor replace it with your own templates / logic.\n*/\nexports.initLocals = function (req, res, next) {\n\tres.locals.navLinks = [\n\t\t{ label: 'Home', key: 'home', href: '/' },\n\t\t{ label: 'Gallery', key: 'gallery', href: '/gallery' },\n\t];\n\tres.locals.user = req.user;\n\tnext();\n};\n\n\n/**\n\tFetches and clears the flashMessages before a view is rendered\n*/\nexports.flashMessages = function (req, res, next) {\n\tvar flashMessages = {\n\t\tinfo: req.flash('info'),\n\t\tsuccess: req.flash('success'),\n\t\twarning: req.flash('warning'),\n\t\terror: req.flash('error'),\n\t};\n\tres.locals.messages = _.some(flashMessages, function (msgs) { return msgs.length; }) ? flashMessages : false;\n\tnext();\n};\n\n\n/**\n\tPrevents people from accessing protected pages when they're not signed in\n */\nexports.requireUser = function (req, res, next) {\n\tif (!req.user) {\n\t\treq.flash('error', 'Please sign in to access this page.');\n\t\tres.redirect('/keystone/signin');\n\t} else {\n\t\tnext();\n\t}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/middleware.js","const path = require('path')\nrequire('dotenv').config()\n\nmodule.exports = {\n  /*\n  ** Headers of the page\n  */\n  head: {\n    title: 'desprendete',\n    meta: [\n      { charset: 'utf-8' },\n      { name: 'viewport', content: 'width=device-width, initial-scale=1' },\n      { hid: 'description', name: 'description', content: 'desprendete' }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\n    ]\n  },\n  /*\n  ** Customize the progress bar color\n  */\n  loading: { color: '#3B8070' },\n\n  css: [\n    { src: '~assets//open-iconic/font/css/open-iconic.css' },\n    { src: '~assets//open-iconic/font/css/open-iconic-bootstrap.css' },\n    { src: '~assets/scss/main.scss', lang: 'scss' }\n  ],\n\n  modules: [\n    ['bootstrap-vue/nuxt', { css: false }],\n    '@nuxtjs/dotenv',\n    '@nuxtjs/axios',\n    ['nuxt-sass-resources-loader', path.resolve(__dirname, 'assets/scss/resources.scss')]\n  ],\n\n  axios: {\n    baseURL: process.env.AXIOS_BASE_URL,\n    browserBaseURL: process.env.AXIOS_BROWSER_BASE_URL\n  },   \n  \n  plugins: [\n    // { src: '~plugins/axios.js', ssr: false },\n    { src: '~plugins/vue-masonry.js', ssr: false },\n    { src: '~plugins/maps.js', ssr: false },\n    '~plugins/filters/fullname.js',\n    '~plugins/filters/cloudinary-thumb.js',\n    '~plugins/directives.js',\n  ],\n\n  env: {\n    baseUrl: process.env.BASE_URL,\n    apiUrl: process.env.API_URL,\n    GMAPS_KEY: process.env.GMAPS_KEY\n  },\n  /*\n  ** Build configuration\n  */\n  build: {\n    /*\n    ** Run ESLint on save\n    */\n    extend (config, ctx) {\n      if (ctx.dev && ctx.isClient) {\n        config.module.rules.push({\n          enforce: 'pre',\n          test: /\\.(js|vue)$/,\n          loader: 'eslint-loader',\n          exclude: /(node_modules)/\n        })\n      }\n\n      config.module.rules.splice(0, 0, {\n        test: /\\.js$/,\n        include: [path.resolve(__dirname, './node_modules/vue2-google-maps')],\n        loader: 'babel-loader',\n      })\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js"],"sourceRoot":""}